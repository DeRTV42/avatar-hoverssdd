
<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Avatar Hover â€“ Premium Fireworks</title>

<style>
  body {
    margin: 0;
    background: #0b0b0b;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .avatar {
    position: relative;
    width: 220px;
    height: 220px;
    border-radius: 50%;
    overflow: hidden;
  }

  .avatar img {
    width: 100%;
    height: 100%;
    display: block;
    border-radius: 50%;
  }

  canvas {
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  .avatar:hover canvas {
    opacity: 1;
  }
</style>
</head>

<body>

<div class="avatar" id="avatar">
  <img src="avatar.png" alt="Avatar">
  <canvas id="fx"></canvas>
</div>

<script>
const canvas = document.getElementById("fx");
const ctx = canvas.getContext("2d");
const size = 220;

canvas.width = size;
canvas.height = size;

let particles = [];
let running = false;

function rand(min, max) {
  return Math.random() * (max - min) + min;
}

function spawnFirework() {
  const cx = rand(60, 160);
  const cy = rand(60, 160);

  for (let i = 0; i < 40; i++) {
    particles.push({
      x: cx,
      y: cy,
      vx: rand(-2.2, 2.2),
      vy: rand(-2.2, 2.2),
      alpha: 1,
      size: rand(1.5, 2.5),
      decay: rand(0.015, 0.03)
    });
  }
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  particles.forEach(p => {
    p.x += p.vx;
    p.y += p.vy;
    p.alpha -= p.decay;

    ctx.fillStyle = `rgba(255, 215, 100, ${p.alpha})`;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
    ctx.fill();
  });

  particles = particles.filter(p => p.alpha > 0);

  if (running && Math.random() < 0.04) {
    spawnFirework();
  }

  requestAnimationFrame(draw);
}

document.getElementById("avatar").addEventListener("mouseenter", () => {
  running = true;
});

document.getElementById("avatar").addEventListener("mouseleave", () => {
  running = false;
  particles = [];
});

draw();
</script>

</body>
</html>
